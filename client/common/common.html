<template name='noConfigWarning'>
  <div class='s3alert alert alert-warning'>
    <h3>S3 Package Not Configured</h3>
    <p>
      Your S3 package was not configured.  Please add the s3upload or s3config templates to access the configuration interface.
    </p>
  </div>
</template>

<template name='s3config_form'>
  {{#if _id}}
  <input type='hidden' name='_id' value='{{_id}}'>
  {{/if}}
  <div class="form-group">
    <label for="S3Key" class="col-sm-3 control-label">Key</label>
    <div class='col-sm-9'>
      <input type="text" class="form-control" name='key' id="S3Key" placeholder="S3 Key" value="{{key}}">
    </div>
  </div>
  <div class="form-group">
    <label for="S3Secret" class="col-sm-3 control-label">Secret</label>
    <div class='col-sm-9'>
      <input type="text" class="form-control" name='secret' id="S3Secret" placeholder="S3 Secret" value="{{secret}}">
    </div>
  </div>
  <div class="form-group">
    <label for="S3Bucket" class="col-sm-3 control-label">Bucket</label>
    <div class='col-sm-9'>
      <input type="text" class="form-control" name='bucket' id="S3Bucket" placeholder="MyBucket" value="{{bucket}}">
    </div>
  </div>
  <input type='hidden' name='type' value='{{type}}'>
  <div class="form-group">
    <label for="S3DefaultPath" class="col-sm-3 control-label">Default Path</label>
    <div class='col-sm-9'>
      <input type="text" class="form-control" name='directory' id="S3DefaultPath" placeholder="/" value='{{directory}}'>
    </div>
  </div>

  <div class="form-group">
    <label for="S3DeleteUserFiles" class="col-sm-3 control-label">Delete My Files</label>
    <div class='col-sm-9'>
      <div class="btn-group" data-toggle="buttons">
        <label class="btn {{delete_user_files_on_active}}">
          <input type="radio" name="deleteUserFiles" class='s3-delete-user-files-radio' id="S3DeleteUserFilesOn" value='on'> Yes
        </label>
        <label class="btn {{delete_user_files_off_active}}">
          <input type="radio" name="deleteUserFiles" class='s3-delete-user-files-radio' id="S3DeleteUserFilesOff" value='off'> No
        </label>
      </div>
      <br><br>
      <div class='alert alert-info'>
        Setting this option to Yes removes all files stored by the application in the your private
        S3 bucket.
      </div>
    </div>
  </div>

  {{#if type 'global'}}
  <h3>Global Options</h3>
  <div class="form-group">
    <label for="S3AllowUserConfig" class="col-sm-3 control-label">Allow Per User S3</label>
    <div class='col-sm-9'>
      <div class="btn-group" data-toggle="buttons">
        <label class="btn {{on_active}}">
          <input type="radio" name="allow_user_config" class='s3-allow-user-config-radio' id="S3AllowUserConfigOn" value='on'> Yes
        </label>
        <label class="btn {{off_active}}">
          <input type="radio" name="allow_user_config" class='s3-allow-user-config-radio' id="S3AllowUserConfigOff" value='off'> No
        </label>
      </div>
      <br><br>
      <div class='alert alert-info'>
        Per User S3 is a configuration option that allows each user to enter credentials for S3 so that they can
        use their own bucket for this application.
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="S3UseUserRole" class="col-sm-3 control-label">Use User Role</label>
    <div class='col-sm-9'>
      <div class="btn-group" data-toggle="buttons">
        <label class="btn {{use_user_role_on_active}}">
          <input type="radio" name="use_user_role" class='s3-use-user-role-radio' id="S3UseUserRoleOn" value='on'> Yes
        </label>
        <label class="btn {{use_user_role_off_active}}">
          <input type="radio" name="use_user_role" class='s3-use-user-role-radio' id="S3UseUserRoleOff" value='off'> No
        </label>
      </div>
      <br><br>
      <div class='alert alert-info'>
        Use User Role allows for the application to be setup so that certain users have access
        to the S3 functionality. With this option set to yes, only users with the s3_user role
        will be able to see the S3 templates.
      </div>
    </div>
  </div>
    <div class="form-group">
    <label for="S3DeleteAppUserFiles" class="col-sm-3 control-label">Delete User Files</label>
    <div class='col-sm-9'>
      <div class="btn-group" data-toggle="buttons">
        <label class="btn {{delete_all_user_files_on_active}}">
          <input type="radio" name="deleteUserFiles" class='s3-delete-user-files-radio' id="S3DeleteAppUserFilesOn" value='on'> Yes
        </label>
        <label class="btn {{delete_all_user_files_off_active}}">
          <input type="radio" name="deleteUserFiles" class='s3-delete-user-files-radio' id="S3DeleteAppUserFilesOff" value='off'> No
        </label>
      </div>
      <br><br>
      <div class='alert alert-info'>
        Setting this option to Yes removes all files stored for this user by the application in the users private
        S3 bucket.
      </div>
    </div>
  </div>
  {{/if}}
</template>